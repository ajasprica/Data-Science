---
title: "Vignette Title"
author: "Vignette Author"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

Vignettes are long form documentation commonly included in packages. Because they are part of the distribution of the package, they need to be as compact as possible. The `html_vignette` output type provides a custom style sheet (and tweaks some options) to ensure that the resulting html is as small as possible. The `html_vignette` format:

- Never uses retina figures
- Has a smaller default figure size
- Uses a custom CSS stylesheet instead of the default Twitter Bootstrap style

## Vignette Info

Note the various macros within the `vignette` section of the metadata block above. These are required in order to instruct R how to build the vignette. Note that you should change the `title` field and the `\VignetteIndexEntry` to match the title of your vignette.

## Styles

The `html_vignette` template includes a basic CSS theme. To override this theme you can specify your own CSS in the document metadata as follows:

    output: 
      rmarkdown::html_vignette:
        css: mystyles.css

```{r}
library(rpart)
bank <- read.csv("bank-full.csv", sep=";")

## set the seed to make partition reproductible
set.seed(123)
train_ind <- sample(seq_len(nrow(bank)), size = floor(0.75 * nrow(bank)))
train <- bank[train_ind, ]
test <- bank[-train_ind, ]

#CART tree
CART = rpart(y~., data=train, method="class")

#prediction on train set
preCARTtr=predict(CART, type="class")
#table(train$y, preCARTtr)
(29168+1399)/nrow(train)
# 0.9014687

#prediction on test set
preCARTte=predict(CART, newdata=test, type="class")
preCARTte = as.integer(preCARTte)
#table(test$y, preCARTte)
(9735+447)/nrow(test)
# 0.9008228
```


## Figures

The figure sizes have been customised so that you can easily put two images side-by-side. 

```{r, fig.show='hold'}
plot(1:10)
plot(10:1)
```

You can enable figure captions by `fig_caption: yes` in YAML:

    output:
      rmarkdown::html_vignette:
        fig_caption: yes

Then you can use the chunk option `fig.cap = "Your figure caption."` in **knitr**.

## More Examples

You can write math expressions, e.g. $Y = X\beta + \epsilon$, footnotes^[A footnote here.], and tables, e.g. using `knitr::kable()`.

```{r, echo=FALSE, results='asis'}
knitr::kable(head(anscombe, 11))
```

```{r}
#naredba spaja varijable u jedan stupac
df = data.frame(
                xVal=c(anscombe$x1,anscombe$x2,anscombe$x3,anscombe$x4),
                yVal=c(anscombe$y1,anscombe$y2,anscombe$y3,anscombe$y4), 
                mygroup=gl(4,nrow(anscombe))
                )

#specijalna funkcija za sumiranje po grupama
library(dplyr)
df %>%
  group_by(mygroup) %>%
  summarize(mean(xVal), sd(yVal), mean(yVal), sd(yVal), cor(xVal,yVal))

#napredna vizualizacija
library(ggplot2)
p = ggplot(df, aes(xVal, yVal)) + geom_point()
p = p + geom_smooth(method = lm, se = FALSE) + facet_wrap(~mygroup)
p

```

```{r, echo=FALSE, results='asis'}
bank <- read.csv("bank-full.csv", sep=";")
knitr::kable(head(bank, 20))

```



Also a quote using `>`:

> "He who gives up [code] safety for [code] speed deserves neither."
([via](https://twitter.com/hadleywickham/status/504368538874703872))
